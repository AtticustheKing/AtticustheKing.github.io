<html>
  <head>
    <title>PLACEHOLDER</title>
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    
    <a href="./index.html">
  <button type="button" class="back_btn">Back</button>
      </a>
    
    <br>
    
    <canvas id="canvas" height="500" width="500"></canvas>
    
    <script>
      
      var c = document.getElementById("canvas");
      var ctx = c.getContext("2d");
     
      function drawCanvas() {
        
      ctx.fillStyle = "#cccccc";
      ctx.fillRect(0, 0, 500, 500);
        
      }
     
  
      
      //PLAYER 
      
      var player_img = new Image();
      player_img.src = "https://kawaii.kawaii.at/img/solid-red-fabric-Robert-Kaufman-USA-Red-179485-1.JPG"
      
    var player = {
      height: 30,
      width: 30,
      x_speed: 0,
      y_speed: 0,
      x: 250,
      y:250,
      draw: function() {
      ctx.drawImage(player_img, this.x, this.y, this.width, this.height)
      }
    }
    
     //BULLET
      
      var bullet_img = new Image();
      bullet_img.src = "https://upload.wikimedia.org/wikipedia/en/8/8b/Purplecom.jpg"
      
      var bullet = {
       height: 10,
       width: 10,
       x: 100,
       y: 100, 
       draw: function() {
        ctx.drawImage(bullet_img, this.x, this.y, this.width, this.height) 
       }
        
      }
    
    //COIN
    
    var coin_img = new Image();
    coin_img.src = "https://icon2.kisspng.com/20180319/vxe/kisspng-symbol-trademark-yellow-coin-us-dollar-5ab051799eabd7.5409505115215046336499.jpg"
      var coin = {
     x: Math.floor((Math.random() * 500) + 1),
     y: Math.floor((Math.random() * 500) + 1),
     height: 15,
     width: 15,
     draw: function() {
         ctx.drawImage(coin_img, this.x, this.y, this.width, this.height)
      }
      
    }
    
    //ARROW KEYS
    
    controller = {

  left:false,
  right:false,
  up:false,
  keyListener:function(event) {

    var key_state = (event.type == "keydown")?true:false;

    switch(event.keyCode) {

      
      case 65:// A
        controller.left = key_state;
      break;
      case 87:// W
        controller.up = key_state;
      break;
      case 68:// D
        controller.right = key_state;
      break;
      case 83:// S
        controller.down = key_state;
      break;  
      case 37:// left arrow
        controller.leftAttack = key_state;
      break;
      case 38:// up arrow
        controller.upAttack = key_state;
      break;
      case 39:// right arrow
        controller.rightAttack = key_state;
      break;
      case 40:// down arrow
        controller.downAttack = key_state;
      break;  

    }

  }

};
 
      
      function animation() {
        
         
        if (controller.upAttack) {
           console.log(bullet.x)
           console.log(bullet.y) 
           bullet.draw()     
        }
        
         if (controller.downAttack) {       
            bullet.draw()     
        }
        
         if (controller.leftAttack) {      
            bullet.draw()
        }
        
         if (controller.rightAttack) {          
            bullet.draw()
        }
        
        if (controller.up) {
          player.y_speed += -0.5          
        }
        
         if (controller.down) {       
            player.y_speed += 0.5           
        }
        
         if (controller.left) {      
            player.x_speed += -0.5
        }
        
         if (controller.right) {          
            player.x_speed += 0.5        
        }
        
        player.x += player.x_speed;
        player.y += player.y_speed;
        player.x_speed *= 0.9;
        player.y_speed *= 0.9;
        
        
        
       ctx.clearRect(0, 0, 500, 500);
        
        //DRAW SECTION 
        
        drawCanvas();
        player.draw();      
        coin.draw()
     
      }
      
       setInterval(function() {animation()}, 20); 
     
                    
    
      window.addEventListener("keydown", controller.keyListener)
      window.addEventListener("keyup", controller.keyListener);
      
    </script>
  </body>
</html>
